tentei fazer o realloc fake aqui com o memcpy e deu certo surpreendentemente, menos o leak de memoria que ta dando e eu nao sei como resolver então isso nao é legal pq por mais que o programa funcione o esse leak destroi tudo. Mas mtos outros problemas que o dr.memory apontava eu consegui resolver, entao isso é legal eu acho.